<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Email Sender</title>
</head>
<body>
    <table>
        <thead>
            <tr>
                <th>Queued</th>
                <th>Sent</th>
                <th>Subject</th>
            </tr>
        </thead>
        <tbody id="tbody"></tbody>
    </table>
    <script src="../scripts/jquery-1.6.4.min.js" type="text/javascript"></script>
    <script src="../scripts/jquery.signalR-2.1.1.min.js" type="text/javascript"></script>
    <script src="../signalr/hubs" type="text/javascript"></script>
    <script type="text/javascript">
        var tbody = $('#tbody'),
            emailHubProxy = $.connection.emailHub;
        emailHubProxy.client.emailSent = function (message) {
            tbody.prepend('<tr><td>' + message.Queued + '</td><td>' + message.Sent + '</td><td>' + message.Subject + '</td></tr>');
        };
        $.connection.hub.start();
    </script>
</body>
</html>